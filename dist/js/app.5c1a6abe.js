(function(e){function t(t){for(var r,a,s=t[0],i=t[1],l=t[2],c=0,m=[];c<s.length;c++)a=s[c],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(m.length)m.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o={app:0},u=[];function s(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0b92a0":"2c8695fe","chunk-2d0c7322":"f69e2152","chunk-2d22202e":"65ce9985","chunk-4caa8c26":"a60432e2","chunk-a986186e":"fd68719d"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-4caa8c26":1,"chunk-a986186e":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-2d0b92a0":"31d6cfe0","chunk-2d0c7322":"31d6cfe0","chunk-2d22202e":"31d6cfe0","chunk-4caa8c26":"38757171","chunk-a986186e":"4e4eaab8"}[e]+".css",o=i.p+r,u=document.getElementsByTagName("link"),s=0;s<u.length;s++){var l=u[s],c=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(c===r||c===o))return t()}var m=document.getElementsByTagName("style");for(s=0;s<m.length;s++){l=m[s],c=l.getAttribute("data-href");if(c===r||c===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],f.parentNode.removeChild(f),n(u)},f.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=u);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(e);var m=new Error;l=function(t){c.onerror=c.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",m.name="ChunkLoadError",m.type=r,m.request=a,n[1](m)}o[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:c})}),12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var m=0;m<l.length;m++)t(l[m]);var f=c;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0df3":function(e,t,n){},"122f":function(e,t,n){},"1f22":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-aside",{attrs:{width:"auto"}},[n("ce")],1),n("el-container",[n("el-header",[n("hearder")],1),n("tagger"),n("el-main",[n("router-view")],1)],1)],1)},a=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1","background-color":"#545c64","text-color":"#fff","active-text-color":e.color,collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},[n("h3",[e._v(e._s(e.isCollapse?"后台":"通用后台管理系统"))]),e._l(e.nochildren,(function(t){return n("el-menu-item",{key:t.path,attrs:{index:t.path+""},on:{click:function(n){return e.clickMenu(t)}}},[n("i",{class:"el-icon-"+t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])])})),e._l(e.havechildren,(function(t){return n("el-submenu",{key:t.path,attrs:{index:t.path+""}},[n("template",{slot:"title"},[n("i",{class:"el-icon-"+t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])]),e._l(t.children,(function(t,r){return n("el-menu-item-group",{key:t.path},[n("el-menu-item",{attrs:{index:r+""},on:{click:function(n){return e.clickMenu(t)}}},[e._v(e._s(t.label))])],1)}))],2)}))],2)},u=[],s=(n("b0c0"),n("4de4"),n("d3b7"),{name:"ce",data:function(){return{menu:[],color:"#ffd04b"}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},clickMenu:function(e){this.$router.push({name:e.name}),this.$store.commit("mianbaoxie",e)}},computed:{getmenu:function(){return this.$store.state.menu},nochildren:function(){return this.getmenu.filter((function(e){return!e.children}))},havechildren:function(){return this.getmenu.filter((function(e){return e.children}))},isCollapse:function(){return this.$store.state.isCollapse}}}),i=s,l=(n("7795"),n("2877")),c=Object(l["a"])(i,o,u,!1,null,"51744b10",null),m=c.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("div",{staticClass:"l-content"},[n("el-button",{attrs:{plain:"",icon:"el-icon-menu",size:"mini"},on:{click:e.shou}}),n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.tags,(function(t){return n("el-breadcrumb-item",{key:t.name,attrs:{to:{path:t.path}}},[e._v(e._s(t.label))])})),1)],1),n("div",{staticClass:"r-content"},[n("el-dropdown",{attrs:{trigger:"hover",szie:"mini"}},[n("span",{staticClass:"user"}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("个人中心")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.tuichu.apply(null,arguments)}}},[e._v("安全退出")])],1)],1)],1)])},h=[],d=n("5530"),p=n("2f62"),g={name:"hearder",methods:{shou:function(){return this.$store.commit("qiehuan",this.$store.state.isCollapse)},tuichu:function(){this.$router.push({name:"login"}),this.$store.commit("cleartoken"),this.$store.commit("clearmenu")}},computed:Object(d["a"])({},Object(p["b"])({tags:function(e){return e.islist}}))},b=g,v=(n("60b5"),Object(l["a"])(b,f,h,!1,null,"3c33cf58",null)),k=v.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.tags,(function(t,r){return n("el-tag",{key:t.name,attrs:{size:"small",closable:""},on:{click:function(n){return e.changmunu(t)},close:function(n){return e.closemunu(t,r)}}},[e._v(" "+e._s(t.label)+" ")])})),1)},w=[],O={name:"tagger",computed:Object(d["a"])({},Object(p["b"])({tags:function(e){return e.islist}})),methods:{changmunu:function(e){this.$router.push({name:e.name})},closemunu:function(e,t){var n=this.tags.length-1;n===t&&1!==this.tags.length?this.$router.push({name:this.tags[t-1].name}):n===t&&1===this.tags.length?this.$router.push({name:"shouye"}):this.$router.push({name:this.tags[t].name}),this.$store.commit("closetag",e)}}},_=O,$=Object(l["a"])(_,y,w,!1,null,null,null),j=$.exports,x=n("4734"),C=n("852e"),E=n.n(C),M={name:"shouye",components:{ce:m,hearder:k,tagger:j},mounted:function(){var e=this,t={token:E.a.get("token")};console.log(t),Object(x["a"])(t).then((function(t){var n=t.data;2e4===n.code?e.$store.commit("setmenu",n.data.menu):(e.$message.warning(n.data.message),console.log(n))}))}},P=M,S=(n("b0f5"),Object(l["a"])(P,r,a,!1,null,null,null));t["default"]=S.exports},4734:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n("5530"),a=n("d4ec"),o=n("bee2"),u=(n("d3b7"),n("bc3a")),s=n.n(u),i={baseUrl:{dev:"/api/",pro:""}},l=i.baseUrl.pro,c=function(){function e(t){Object(a["a"])(this,e),this.baseUrl=t}return Object(o["a"])(e,[{key:"getInsideConfig",value:function(){var e={baseUrl:this.baseUrl,header:{}};return e}},{key:"interceptors",value:function(e){e.interceptors.request.use((function(e){return e})),e.interceptors.response.use((function(e){return e}))}},{key:"request",value:function(e){var t=s.a.create();return e=Object(r["a"])(Object(r["a"])({},this.getInsideConfig()),e),this.interceptors(t),t(e)}}]),e}(),m=new c(l),f=function(e){return m.request({url:"/menu/getMenu",method:"post",data:e})},h=function(e){return m.request({url:"/shauxin/getlist",method:"post",data:e})}},"4b25":function(e,t,n){},"4eb2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("b0c0");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],u={name:"App"},s=u,i=(n("034f"),n("2877")),l=Object(i["a"])(s,a,o,!1,null,null,null),c=l.exports,m=n("5c96"),f=n.n(m),h=(n("0fae"),n("8c4f")),d=n("7438"),p=n("1f22");r["default"].use(h["a"]);var g=new h["a"]({routes:[{path:"/",name:"shouye",component:p["default"],children:[]},{path:"/login",name:"login",component:d["default"]}]}),b=h["a"].prototype.push;h["a"].prototype.push=function(e){return b.call(this,e).catch((function(e){return e}))};var v=n("2909"),k=(n("c740"),n("a434"),n("e9c4"),n("d3b7"),n("159b"),n("d81d"),n("3ca3"),n("ddb0"),n("2f62")),y=n("852e"),w=n.n(y);r["default"].use(k["a"]);var O={isCollapse:!1,islist:[],token:"",menu:[]},_={},$={qiehuan:function(e){e.isCollapse=!e.isCollapse},mianbaoxie:function(e,t){var n=e.islist.findIndex((function(e){return e.name===t.name}));-1===n&&e.islist.push(t)},closetag:function(e,t){var n=e.islist.findIndex((function(e){return e.name===t.name}));e.islist.splice(n,1)},settoken:function(e,t){e.token=t,w.a.set("token",t)},cleartoken:function(e){e.token="",w.a.remove("token")},gettoken:function(e){e.token=w.a.get("token")},setmenu:function(e,t){e.menu=t,w.a.set("menu",JSON.stringify(t))},clearmenu:function(e){e.menu=[],w.a.remove("menu")},getmenu:function(e){return e.menu=JSON.parse(w.a.get("menu"))},addmenu:function(e,t){var r=e.menu,a=[];r.forEach((function(e){e.children?(e.children=e.children.map((function(e){return e.component=function(){return n("83f8")("./".concat(e.url))},e})),a.push.apply(a,Object(v["a"])(e.children))):(e.component=function(){return n("83f8")("./".concat(e.url))},a.push(e))})),a.forEach((function(e){t.addRoute("shouye",e)}))}},j=new k["a"].Store({actions:_,mutations:$,state:O}),x=n("96eb"),C=n.n(x),E={getMenu:function(e){var t=JSON.parse(e.body),n=t.username,r=t.password;return"admin"===n&&"admin"===r?{code:2e4,data:{menu:[{path:"/",name:"home",label:"首页",icon:"s-home",url:"home/home.vue"},{path:"/mall",name:"mall",label:"商品管理",icon:"video-play",url:"mall/mall.vue"},{path:"/user",name:"user",label:"用户管理",icon:"user",url:"user/user.vue"},{label:"其他",icon:"location",children:[{path:"/page1",name:"page1",label:"页面1",icon:"setting",url:"Other/Page1.vue"},{path:"/page2",name:"page2",label:"页面2",icon:"setting",url:"Other/Page2.vue"}]}],token:"778",message:"获取成功"}}:"chen"===n&&"chen"===r?{code:2e4,data:{menu:[{path:"/",name:"home",label:"首页",icon:"s-home",url:"home/home"}],token:"999",message:"获取成功"}}:{code:-99,data:{message:"密码错误"}}}},M={getlist:function(e){var t=JSON.parse(e.body),n=t.token;return"778"===n?{code:2e4,data:{menu:[{path:"/",name:"home",label:"首页",icon:"s-home",url:"home/home"},{path:"/mall",name:"mall",label:"商品管理",icon:"video-play",url:"MallMange/MallMange"},{path:"/user",name:"user",label:"用户管理",icon:"user",url:"UserMange/UserMange"},{label:"其他",icon:"location",children:[{path:"/page1",name:"page1",label:"页面1",icon:"setting",url:"Other/PageOne"},{path:"/page2",name:"page2",label:"页面2",icon:"setting",url:"Other/PageTwo"}]}],message:"获取成功"}}:"999"===n?{code:2e4,data:{menu:[{path:"/",name:"home",label:"首页",icon:"s-home",url:"home/home"}]},message:"获取成功"}:{code:-99,data:{message:"获取失败,无权限"}}}};C.a.mock(/\/menu\/getMenu/,"post",E.getMenu),C.a.mock(/\/shauxin\/getlist/,"post",M.getlist),r["default"].config.productionTip=!1,r["default"].use(f.a),g.beforeEach((function(e,t,n){j.commit("gettoken");var r=j.state.token;r||"login"===e.name?n():n({name:"login"})})),new r["default"]({render:function(e){return e(c)},store:j,router:g}).$mount("#app")},"60b5":function(e,t,n){"use strict";n("0df3")},"6fd5":function(e,t,n){"use strict";n("122f")},7438:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"beijign"},[n("el-form",{ref:"form",staticClass:"logins",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"100px"}},[n("h3",{staticClass:"login_title"},[e._v("系统登录")]),n("el-form-item",{attrs:{label:"用户","label-width":"80",prop:"username"}},[n("el-input",{attrs:{type:"input",placeholder:"请输入账号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),n("el-form-item",{attrs:{label:"密码","label-width":"80",prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.login()}}},[e._v("登录")])],1)],1)],1)},a=[],o=n("4734"),u={name:"login",data:function(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,message:"用户名长度不能小于三位",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,message:"密码长度不能小于三位",trigger:"blur"}]}}},methods:{login:function(){var e=this;Object(o["b"])(this.form).then((function(t){var n=t.data;2e4===n.code?(e.$store.commit("setmenu",n.data.menu),e.$store.commit("settoken",n.data.token),e.$store.commit("addmenu",e.$router),e.$router.push({name:"shouye"})):e.$message.warning(n.data.message)}))}}},s=u,i=(n("6fd5"),n("2877")),l=Object(i["a"])(s,r,a,!1,null,null,null);t["default"]=l.exports},7795:function(e,t,n){"use strict";n("4eb2")},"83f8":function(e,t,n){var r={"./home/home":["fe62","chunk-4caa8c26"],"./home/home.vue":["fe62","chunk-4caa8c26"],"./login/login":["7438"],"./login/login.vue":["7438"],"./mall/mall":["327b","chunk-2d0b92a0"],"./mall/mall.vue":["327b","chunk-2d0b92a0"],"./other/page1":["cd90","chunk-2d22202e"],"./other/page1.vue":["cd90","chunk-2d22202e"],"./other/page2":["501b","chunk-2d0c7322"],"./other/page2.vue":["501b","chunk-2d0c7322"],"./shouye":["1f22"],"./shouye.vue":["1f22"],"./user/user":["144a","chunk-a986186e"],"./user/user.vue":["144a","chunk-a986186e"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="83f8",e.exports=a},"85ec":function(e,t,n){},b0f5:function(e,t,n){"use strict";n("4b25")}});
//# sourceMappingURL=app.5c1a6abe.js.map